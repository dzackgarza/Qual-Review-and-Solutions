## Counting Theorems

:::{.theorem title="Lagrange's Theorem"}
\[H \leq G \implies \# H \divides \# G.\]
Moreover, there is an equality $[G:H] = \# G/ \# H$ when $G$ is finite.
:::

:::{.proof title="of Lagrange's theorem"}
Write $G/H = \ts{g_0 H, g_1 H, \cdots, g_N H}$ for some $N \da [G:H]$.
Since cosets are equal or disjoint and have equal cardinality, 
\[
G = \disjoint_{k \leq N} g_k H \implies \#G = \sum_{k\leq N} \# \qty{g_k H} = \sum_{k\leq N} \# H = N \# H
,\]
so $\# G = N \# H$, $\#H$ divides $\# G$ and $N = [G:H]$ divides $\# G$.
:::

:::{.corollary title="?"}
\[
\# G = \#(G/H) \#H \da [G:H] \, \# H
,\]
or written another way,
\[
\#(G/H) = \# G/ \# H
.\]
:::

:::{.corollary}
The order of every element divides the size of $G$, i.e.
$$
g\in G \implies o(g) \divides o(G) \implies g^{\abs G} = e
.$$
:::

:::{.warnings}
There do **not** necessarily exist $H \leq G$ with $\abs H = n$ for every $n \divides \abs{G}$.
Counterexample: take $G = A_5$, then $\# G = 5!/2 = 60$ but $G$ has no subgroup of order $30$.
If it did, this would be index 2 and thus normal, but $A_{n\geq 5}$ is simple.

Another direct counterexample: $\abs{A_4} = 12$ but has no subgroup of order 6.
If such an $H$ existed, it can't contain every 3-cycle, since $A_4$ is generated by 3-cycles.
For $x$ any 3-cycle *not* in $H$, use that $\# A_4/H = 2$ and consider $H, xH, x^2H$.
$x\not\in H$, so $H\neq xH$, but two must be equal:

- $x^2H = H$: use $x^2 = x\inv$ since $x^3=e$, but $x\in H \implies x\inv\in H$, $\contradiction$
- $xH = x^2H$: the fundamental theorem of cosets forces $x\inv x^2 \in H$, so $x\in H$. $\contradiction$
:::

:::{.theorem title="Cauchy's Theorem"}
For every prime $p$ dividing $\abs{G}$. there is an element (and thus a subgroup) of order $p$.

> This is a partial converse to Lagrange's theorem, and strengthened by Sylow's theorem.

:::

:::{.proof title="?"}
See [https://kconrad.math.uconn.edu/blurbs/grouptheory/cauchypf.pdf](https://kconrad.math.uconn.edu/blurbs/grouptheory/cauchypf.pdf).
:::

## Group Actions

:::{.definition title="Group Action"}
An action of $G$ on $X$ is a group morphism
\[
\phi:G \times X &\rightarrow X \\ 
(g,x) &\mapsto g x
\]
or equivalently
\[
\phi: G &\to \Aut(X) \\
g &\mapsto (x \mapsto \phi_g (x) \definedas g\cdot x)
\]
satisfying

1. $e\cdot x = x$
2. $g\cdot (h\cdot x) = (gh)\cdot x$
:::

:::{.remark title="Reminder of notation"}
For a group $G$ acting on a set $X$,

| Notation                                                                                  | Definition          |
|-------------------------------------------------------------------------------------------|---------------------|
| \( \OO(x) = Gx = \theset{g\cdot x \suchthat g\in G} \subseteq X \)                        | Orbit               |
| \(\Stab(x) = G_x = \ts{ g \in G \st g\cdot x=x } \leq G \)                                | Stabilizer          |
| \( X/G \subseteq 2^X \)                                                                   | Set of Orbits       |
| \( \Fix = X^G = \theset{x\in X \suchthat g\cdot x = x\, \forall g\in G} \subseteq X \) | Set of Fixed Points |

Note that being in the same orbit is an equivalence relation which partitions $X$, and $G$ acts transitively if restricted to any single orbit.
Also, $x\in \Fix$ iff $\Orb(x) = \ts{x}$ and $\Stab_G(x) = G$.
:::

:::{.fact}
For any group action, the kernel is the intersection of all stabilizers:
\[
\ker \psi = \Intersect_{x\in X} G_x
.\]
:::

:::{.definition title="Transitive Group Action"}
A group action $G\actson X$ is **transitive** iff for all $x, y\in X$ there exists a $g\in G$ such that $g\cdot x = x$.
Equivalently, the action has a single orbit.
:::


:::{.proposition title="Orbit Stabilizer Isomorphism"}
If $G\actson X$ transitively, then for any choice of $x\in X$ there is an isomorphism of sets given by
\[
\Phi: G/G_{x} &\mapsvia{\sim} X \\
gG_{x} &\mapsto g\actson x
.\]
:::

:::{.proof title="of orbit stabilizer"}
\envlist

- Injectivity: $\Phi(gG_x) = \Phi(hG_x) \iff g\actson x=h\actson x \iff gh\inv \actson x = x \iff gh\inv \in G_x \iff gG_x = hG_x$.

- Well-definedness: use $gG_x = hG_x \iff gh\inv \in G_x \iff g\inv h \actson x = x$.
  Then $g (g\inv h) \actson x = g \actson x$ on one hand, and on the other $(gg\inv)h\actson x = h\actson x$, so
  \[
  \Phi(hG_x) \da h\actson x = (gg\inv) h\actson x = g(g\inv h)\actson x = g\actson x = \Phi(gG_x)
  .\]

- Surjectivity: equivalent to the action being transitive.

:::

:::{.proposition title="Stabilizers of all orbit reps are conjugate"}
If $X\in \GSets$, then for any points $x_i\in X$ in the same orbit, the stabilizers $G_{x_0}$ and $G_{x_1}$ are conjugate.

Note that if $G$ acts transitively, this says all stabilizers are conjugate.
:::

:::{.proof title="that stabilizers are conjugate"}
\envlist

- Fix $x\in X$ and $y\in \Orb(x)$, so $g.x=y$ for some $g$.
- Let $H_x \da \Stab(x)$ and $H_y\da \Stab(y)$, the claim is that $H_x = g\inv H_y g$.
- Now just check:
\[
h\in H_x &\iff hx = x \\
&\iff hg\inv y = g\inv y \\
&\iff ghg\inv y = y \\
&\iff ghg\inv \in H_y \\
&\iff h\in g\inv H_y g
,\]
so $H_x = g\inv H_y g$.

:::

:::{.theorem title="Orbit-Stabilizer"}

\[\# {Gx} = [G: G_x] = \# {G} / \#{G_x} \quad \text{if $G$ is finite}
.\]

> Mnemonic: $G/G_x \cong Gx$.

:::

## Examples of Orbit-Stabilizer and the Class Equation

:::{.remark title="The fixed-point count trick"}
A useful mnemonic: for any group action $\phi: G\actson X$, using that orbits partition $X$ we always have
\[
X = \Fix(\phi) \Disjoint_{x}' \Orb(x)
,\]
where $\Fix(\phi)$ is the union of all orbits of size 1, and the remaining union is over distinct nontrivial orbits, taking one representative $x$ from each.
:::

:::{.proposition title="Simple groups with a nontrivial subgroup embed into symmetric groups"}
An application of group actions:
if $G$ is simple, $H < G$ proper, and $[G:H] = n$, then there exists an injective map $\phi: G \injects S_n$.
:::

:::{.proof}
\envlist

- Define a group action $\phi: G\actson G/H \da \ts{eH, g_1 H, \cdots, g_{n-1} H}$ acting on the $n$ cosets of $H$ by left-translation $g.(g_k H) = (gg_k) H$.
- Then use that $\Sym(G/H) \leq S_n$, so $\im \phi \leq S_n$ is a subgroup.
- Since $G$ is simple and $\ker \phi \leq G$, we have $\ker \phi = 1, G$.
  If $\ker \phi = 1$, $\phi$ is injective and we're done.

- Otherwise $\ker \phi = G$, and acting on $eH$ yields $gH = H$ for all $g$, forcing $H=G$ and $n=1$, contradicting that $H<G$ is proper. $\contradiction$
:::

### Left Translation

:::{.example title="The left translation action: trivial"}
Let $G$ act on itself by left translation, where $\phi: g \mapsto (h\mapsto gh)$.

- The orbit $\Orb(x) = G$ is the entire group.
  - This action is transitive.
- The set of fixed points \( \Fix(\phi) = \ts{g\in G \st gx=x \,\forall x\in G } = \ts{ e } \) is just the identity.
- The stabilizer \( \Stab(x) = \ts{ g\in G\st gx=x } = \ts{ e } \) is just the identity.
- The kernel is the identity.
- Orbit stabilizer just says $G \cong G/\ts{e}$.

:::

### Conjugation: The Class Equation and Burnside's Lemma

:::{.example title="Conjugation yields centers/centralizers"}
Let $G$ act on *itself* by conjugation, so $\phi: g.x = gxg\inv$.

- The orbit $\Orb(g) = [g]$ is the **conjugacy class** of $g$.
  - Thus the action is transitive iff $G$ has only one single conjugacy class, which can only happen if $\# G = 1, 2$.
    On the other extreme, the orbits are all size 1 iff $G$ is abelian.
- The set of fixed points $\Fix(\phi) = Z(G)$ is the **center**.
- The stabilizer is $\Stab(g) = Z(g)$, the **centralizer** of $g$ in $G$.
- The kernel is the intersection of all centralizers, i.e. again the **center** $Z(G)$.
- Orbit-stabilizer says $[g] = G/Z(g)$, so **the size of a conjugacy class is the index of the centralizer**.

:::

:::{.remark}
Worth reiterating: $[G: Z(g)]$ is the number of elements in the conjugacy class $[g]$, and each $g \in Z(G)$ has a singleton conjugacy class $[g] = \ts{g}$.
Applying the fixed-point count trick and substituting in orbit-stabilizer yields
\[
G &= \Fix(\phi) \Disjoint_{x}' \Orb(x) \\
&= Z(G) \Disjoint_{g}' [g]\\
&= Z(G) \Disjoint_{g}' {G\over Z(g) } 
.\]

Now taking cardinalities yields the class equation:

:::

:::{.corollary title="The Class Equation"}
\[
\# {G} = \# {Z(G)} + \sum_{\substack{\text{One $g$ from} \\ \text{each nontrivial} \\ \text{conj. class}}} [G: Z(g)]
\]

As a reminder,
\[
Z(g) &= \ts{h\in G \st hgh\inv = g} \text{ is the centralizer of } g\\
Z(G) &= \ts{h\in G \st hgh\inv = g\,\, \forall g\in G} = \Intersect_{g\in G} Z(g) \text{ is the center of } G 
.\]

:::

:::{.exercise title="Applications of the class equation"}
\envlist

- Show that $p$ groups have nontrivial centers.
- Show that groups of order $p^2$ are abelian.

:::

:::{.solution}
$p\dash$groups have nontrivial centers:

- Abusing notation by identifying sets with their cardinalities, the class equation says $G = Z(G) + \sum_{g}' [G: Z(g)]$ where the terms in the sum are all bigger than 1.
- Reducing mod $p$ yields $0 = Z(g) + 0$, since $p$ must divide $[G:Z(g)]$ when $[G:Z(g)] > 1$ because $G = [G:Z(g)]Z(g)$ and $p$ divides the LHS.
- So $p$ divides $Z(g)$, making $Z(g)$ nontrivial.

$p^2$ groups are abelian:

- $Z(G) = 1,p,p^2$, and by above we know $Z(G)\neq 1$. 
  If $Z(G) = p^2$ we're done, so assume $Z(G) = p$.
- Then $G/Z(G) = p$ and groups of order $p$ are cyclic, so the $G/Z(G)$ theorem applies and $G$ is abelian.
:::

:::{.corollary title="Burnside's Lemma"}
For $G$ a finite group acting on $X$, 
\[
\# {X/G} = \frac{1}{\# G }\sum_{g\in G} \# \Fix(g)
,\]
where $X/G = \ts{\Orb(x_1), \cdots, \Orb(x_n)}$ is the set or orbits and $\Fix(g) = \ts{x\in X \st gx=x}$ are the fixed points under $g$.

> Slogan: the number of orbits is equal to the average number of fixed points.

:::

:::{.proof title="of Burnside's Lemma"}
Strategy: form the set $A \da \ts{ (g,x) \in G\cross X \st g\actson x = x }$ and write/count it in two different ways.
Write $\Stab(x) = \ts{g\in G \st gx=x}$ and $\Fix(g) = \ts{x\in X\st gx = x}$.

First union over $G$, where the inner set lets $x$ vary:
\[
A = \Disjoint_{g_0\in G} \ts{ (g_0, x) \st g_0 x = x } \cong \Disjoint_{g_0\in G} \ts{g_0}\cross \Fix(g_0) \subseteq G\cross X
.\]

Then union over $X$, where the inner set lets $g$ vary:
\[
A = \Disjoint_{x_0\in X} \ts{ (g, x_0) \st gx_0= x_0 } \cong \Disjoint_{x_0\in X} \Stab(x_0) \cross \ts{ x_0 } \subseteq G\cross X
.\]
Taking cardinalities, and using the fact that $\ts{p} \cross A \cong  A$ as sets for any set $A$,
we get the following equality
\[
\sum_{g_0\in G} \# \Fix(g_0)
= \# A
= \sum_{x_0\in X} \# \Stab(x_0)
.\]

Now rearrange orbit-stabilizer: 
\[
\Orb(x_0) = G/\Stab(x_0) \implies \# \Stab(x_0) = \# G/ \# \Orb(x_0)
,\]
and use this to rewrite the RHS:
\[
\sum_{g_0\in G} \# \Fix(g_0)
&= \sum_{x_0\in X} \# \Stab(x_0) \\
&= \sum_{x_0\in X} {\# G \over \# \Orb(x_0)} \\
&= \# G \sum_{x_0\in X} {1 \over \# \Orb(x_0)} \\ \\
\implies {1\over \# G} \sum_{g_0\in G} \# \Fix(g_0) 
&= \sum_{x_0\in X} {1\over \# \Orb(x_0)}
,\]
so it suffices to show the right-hand side sum is the number of orbits, $\#(X/G)$.

Proceed by partitioning the sum up according to which orbit each term comes from:
\[
\sum_{x_0\in X}\qty{1\over \# \Orb(x_0)} 
&= \sum_{\Orb(x_0) \in X/G} \qty{ \sum_{y\in \Orb(x_0)} \qty{1\over \# \Orb(x_0)} }\\
&= \sum_{\Orb(x_0) \in X/G} \qty{1\over \# \Orb(x_0)}\sum_{y\in \Orb(x_0)} 1  \\
&= \sum_{\Orb(x_0) \in X/G} \qty{1\over \# \Orb(x_0)} \# \Orb(x_0) \\
&= \sum_{\Orb(x_0) \in X/G} 1 \\
&= \#(X/G)
.\]
:::


### Conjugation on Subgroups

:::{.example title="?"}
Let $G$ act on $X \da\ts{H \st H\leq G}$ (its set of *subgroups*) by conjugation.

- The orbit $\OO(H) = \theset{gHg\inv \st g\in G}$ is the **set of conjugate subgroups** of $H$.
  - This action is transitive iff all subgroups are conjugate.
- The fixed points $\Fix(G)$ form the set of **normal subgroups** of $G$.

- The stabilizer $\Stab(H) = N_G(H)$ is the **normalizer** of $H$ in $G$.

- The kernel is the intersection of all normalizers: $\ker \phi = \Intersect_{H\leq G} N_G(H)$.

- Applying Orbit-stabilizer yields that the number of conjugates is the index of the normalizer:
\[
\# {\ts{ gHg ^{-1} \st g \in G } } = [G: N_G(H)]
.\]

:::

### Left Translation on Cosets

:::{.example title="?"}
For a fixed proper subgroup $H< G$, let $G$ act on its cosets $X \da G/H \da \theset{gH\suchthat g\in G}$ by left translation.

- The orbit $\OO(xH) = G/H$, the entire set of cosets.

  - Note that this is a *transitive* action, since the trivial coset $eH\in G/H$ and its orbit is $gH$ as $g$ ranges over $G$, hitting every coset representative.

- The stabilizer $\Stab(xH) = xHx\inv$, a **conjugate subgroup** of $H$.
  - This is because
  \[
  \Stab(xH) &= \ts{g\in G\st gxH = xH} \\
  &= \ts{g\in G \st x\inv g x\in H} \\
  &= \ts{g\in G\st gx\in xH}\\
  &= \ts{g\in G\st g\in xHx\inv} \\
  &= xHx\inv
  .\]

- There are no fixed points, i.e. $\Fix(G) = \emptyset$, since the action is transitive.

- The kernel of this action is $\ker \phi = \Intersect_{g\in G} gHg\inv$, the intersection of all conjugates of $H$, sometimes called the **normal core** of $H$.

  - Note that if $\ker \phi = G$ then $H$ is normal, and if $\ker \phi = 1$ then at least one conjugate doesn't intersect $H$ nontrivially.

:::

:::{.proposition title="Application of translation action on cosets"}
If $G$ is a finite group and $p\da [G:H]$ is the smallest prime dividing $\# G$, then $H\normal G$.
:::

:::{.proof title="?"}
\envlist

- Let $\phi: G\actson X\da \ts{xH}$, noting that $\# X = p$ and $\Sym(X) \cong S_p$.
- Then $K\da \ker \phi$, and importantly $K \contains H$ since $K$ is the intersection of stabilizers, and contains $\Stab(eH) \contains H$ since $gH = H \implies g\in H$.
- Since $G$ is finite and $K\leq G$, we have $\#(G/K)$ dividing $\# G$, since
  \[
  [G:K] = \# (G/K) = \# G/ \# K \implies \# G = \#(G/K) \# K
  .\]
- Now
\[
G/K \cong K' \leq S_p \implies \#(G/K)\divides p!
.\]

- So $\# (G/K)$ divides $\gcd( \# G, p!)=p$, using that $p$ was the minimal prime dividing $\# G$.
  This forces $\#(G/K)$ to be 1 or $p$.
- If it's $p$:
  - Then $p = [G:K] = [G:H]$ and since $K\contains H$ this forces $K=H$.
  Kernels are automatically normal, so we're done.
- If it's 1:
  - Then $[G:K] = 1$ and $K = \ker \phi = G$.
  - Identifying $\ker \phi = \Intersect_{xH\in G/H} \Stab(xH)$, we have $\Stab(xH) = xHx\inv = G$ for all $x$, which says $H$ is normal.

:::

:::{.exercise title="?"}
Prove the PoincarÃ© theorem for groups: if $H\leq G$  are possibly infinite groups with finite index $n\da [G:H]$, then there exists an $N\normal H$ where $[N: H] < n!$.
:::


