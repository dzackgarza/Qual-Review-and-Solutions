## Counting Theorems

:::{.theorem title="Lagrange's Theorem"}
\[H \leq G \implies \# H \divides \# G.\]
Moreover, there is an equality $[G:H] = \# G/ \# H$ when $G$ is finite.
:::

:::{.proof title="of Lagrange's theorem"}
Write $G/H = \ts{g_0 H, g_1 H, \cdots, g_N H}$ for some $N \da [G:H]$.
Since cosets are equal or disjoint and have equal cardinality, 
\[
G = \disjoint_{k \leq N} g_k H \implies \#G = \sum_{k\leq N} \# \qty{g_k H} = \sum_{k\leq N} \# H = N \# H
,\]
so $\# G = N \# H$, $\#H$ divides $\# G$ and $N = [G:H]$ divides $\# G$.
:::

:::{.corollary title="?"}
\[
\# G = \#(G/H) \#H \da [G:H] \, \# H
,\]
or written another way,
\[
\#(G/H) = \# G/ \# H
.\]
:::

:::{.corollary}
The order of every element divides the size of $G$, i.e.
$$
g\in G \implies o(g) \divides o(G) \implies g^{\abs G} = e
.$$
:::

:::{.warnings}
There do **not** necessarily exist $H \leq G$ with $\abs H = n$ for every $n \divides \abs{G}$.
Counterexample: take $G = A_5$, then $\# G = 5!/2 = 60$ but $G$ has no subgroup of order $30$.
If it did, this would be index 2 and thus normal, but $A_{n\geq 5}$ is simple.

Another direct counterexample: $\abs{A_4} = 12$ but has no subgroup of order 6.
If such an $H$ existed, it can't contain every 3-cycle, since $A_4$ is generated by 3-cycles.
For $x$ any 3-cycle *not* in $H$, use that $\# A_4/H = 2$ and consider $H, xH, x^2H$.
$x\not\in H$, so $H\neq xH$, but two must be equal:

- $x^2H = H$: use $x^2 = x\inv$ since $x^3=e$, but $x\in H \implies x\inv\in H$, $\contradiction$
- $xH = x^2H$: the fundamental theorem of cosets forces $x\inv x^2 \in H$, so $x\in H$. $\contradiction$
:::

:::{.theorem title="Cauchy's Theorem"}
For every prime $p$ dividing $\abs{G}$. there is an element (and thus a subgroup) of order $p$.

> This is a partial converse to Lagrange's theorem, and strengthened by Sylow's theorem.

:::

:::{.proof title="?"}
See [https://kconrad.math.uconn.edu/blurbs/grouptheory/cauchypf.pdf](https://kconrad.math.uconn.edu/blurbs/grouptheory/cauchypf.pdf).
:::

## Group Actions

:::{.definition title="Group Action"}
An action of $G$ on $X$ is a group morphism
\[
\phi:G \times X &\rightarrow X \\ 
(g,x) &\mapsto g x
\]
or equivalently
\[
\phi: G &\to \Aut(X) \\
g &\mapsto (x \mapsto \phi_g (x) \definedas g\cdot x)
\]
satisfying

1. $e\cdot x = x$
2. $g\cdot (h\cdot x) = (gh)\cdot x$
:::

:::{.remark title="Reminder of notation"}
For a group $G$ acting on a set $X$,

| Notation                                                                                  | Definition          |
|-------------------------------------------------------------------------------------------|---------------------|
| \( \OO(x) = Gx = \theset{g\cdot x \suchthat g\in G} \subseteq X \)                        | Orbit               |
| \(\Stab(x) = G_x = \ts{ g \in G \st g\cdot x=x } \leq G \)                                | Stabilizer          |
| \( X/G \subseteq 2^X \)                                                                   | Set of Orbits       |
| \( \Fix = X^G = \theset{x\in X \suchthat g\cdot x = x\, \forall g\in G} \subseteq X \) | Set of Fixed Points |

Note that being in the same orbit is an equivalence relation which partitions $X$, and $G$ acts transitively if restricted to any single orbit.
Also, $x\in \Fix$ iff $\Orb(x) = \ts{x}$ and $\Stab_G(x) = G$.
:::

:::{.fact}
For any group action, the kernel is the intersection of all stabilizers:
\[
\ker \psi = \Intersect_{x\in X} G_x
.\]
:::

:::{.definition title="Transitive Group Action"}
A group action $G\actson X$ is **transitive** iff for all $x, y\in X$ there exists a $g\in G$ such that $g\cdot x = x$.
Equivalently, the action has a single orbit.
:::


:::{.proposition title="Orbit Stabilizer Isomorphism"}
If $G\actson X$ transitively, then for any choice of $x\in X$ there is an isomorphism of sets given by
\[
\Phi: G/G_{x} &\mapsvia{\sim} X \\
gG_{x} &\mapsto g\actson x
.\]
:::

:::{.proof title="of orbit stabilizer"}
\envlist

- Injectivity: $\Phi(gG_x) = \Phi(hG_x) \iff g\actson x=h\actson x \iff gh\inv \actson x = x \iff gh\inv \in G_x \iff gG_x = hG_x$.

- Well-definedness: use $gG_x = hG_x \iff gh\inv \in G_x \iff g\inv h \actson x = x$.
  Then $g (g\inv h) \actson x = g \actson x$ on one hand, and on the other $(gg\inv)h\actson x = h\actson x$, so
  \[
  \Phi(hG_x) \da h\actson x = (gg\inv) h\actson x = g(g\inv h)\actson x = g\actson x = \Phi(gG_x)
  .\]

- Surjectivity: equivalent to the action being transitive.

:::

:::{.proposition title="Stabilizers of all orbit reps are conjugate"}
If $X\in \GSets$, then for any points $x_i\in X$ in the same orbit, the stabilizers $G_{x_0}$ and $G_{x_1}$ are conjugate.

Note that if $G$ acts transitively, this says all stabilizers are conjugate.
:::

:::{.proof title="that stabilizers are conjugate"}
\envlist

- Fix $x\in X$ and $y\in \Orb(x)$, so $g.x=y$ for some $g$.
- Let $H_x \da \Stab(x)$ and $H_y\da \Stab(y)$, the claim is that $H_x = g\inv H_y g$.
- Now just check:
\[
h\in H_x &\iff hx = x \\
&\iff hg\inv y = g\inv y \\
&\iff ghg\inv y = y \\
&\iff ghg\inv \in H_y \\
&\iff h\in g\inv H_y g
,\]
so $H_x = g\inv H_y g$.

:::

:::{.theorem title="Orbit-Stabilizer"}

\[\# {Gx} = [G: G_x] = \# {G} / \#{G_x} \quad \text{if $G$ is finite}
.\]

> Mnemonic: $G/G_x \cong Gx$.

:::

## Examples of Orbit-Stabilizer and the Class Equation


:::{.remark title="The fixed-point count trick"}
A useful mnemonic: for any group action $\phi: G\actson X$, using that orbits partition $X$ we always have
\[
X = \Fix(\phi) \Disjoint' \Orb(x)
,\]
where $\Fix(\phi)$ is the union of all orbits of size 1, and the remaining union is over distinct nontrivial orbits, taking one representative $x$ from each.
:::


### Left Translation

:::{.example title="The left translation action: trivial"}
Let $G$ act on itself by left translation, where $\phi: g \mapsto (h\mapsto gh)$.

- The orbit $\Orb(x) = G$ is the entire group.
  - This action is transitive.
- The set of fixed points \( \Fix(\phi) = \ts{g\in G \st gx=x \,\forall x\in G } = \ts{ e } \) is just the identity.
- The stabilizer \( \Stab(x) = \ts{ g\in G\st gx=x } = \ts{ e } \) is just the identity.
- The kernel is the identity.
- Orbit stabilizer just says $G \cong G/\ts{e}$.

:::


### Conjugation: The Class Equation and Burnside's Lemma

:::{.example title="Conjugation yields centers/centralizers"}
Let $G$ act on *itself* by conjugation, so $\phi: g.x = gxg\inv$.

- The orbit $\Orb(g) = [g]$ is the **conjugacy class** of $g$.
  - Thus the action is transitive iff $G$ has only one single conjugacy class, which can only happen if $\# G = 1, 2$.
    On the other extreme, the orbits are all size 1 iff $G$ is abelian.
- The set of fixed points $\Fix(\phi) = Z(G)$ is the **center**.
- The stabilizer is $\Stab(g) = Z(g)$, the **centralizer** of $g$ in $G$.
- The kernel is the intersection of all centralizers, i.e. again the **center** $Z(G)$.
- Orbit-stabilizer says $[g] = G/Z(g)$, so **the size of a conjugacy class is the index of the centralizer**.

:::

:::{.remark}
Worth reiterating: $[G: Z(g)]$ is the number of elements in the conjugacy class $[g]$, and each $g \in Z(G)$ has a singleton conjugacy class $[g] = \ts{g}$.
Applying the fixed-point count trick yields
\[
G = \Fix(\phi) \Disjoint' \Orb(x)
.\]


Now note that $G = \disjoint_k' \Orb(h_k)$ is a disjoint union of orbits (the prime denotes taking one representative from each orbit), and so
\[
G &= \Disjoint_k' \Orb(h_k) \mapsvia{\sim} \Disjoint_k' G/\Stab(h_k) \\
\implies \# G &= \sum_{k}' \# C(h) = \sum_k' \#(G/\Stab(h_k)) = \sum_k' [G: Z(h_k)]
.\]
Pulling out the terms of size 1, we have $[G: N_G(h_k)] = 1 \iff h_k \in Z(G)$, which yields the class equation:
:::

:::{.remark}


:::

:::{.corollary title="The Class Equation"}
\[
\abs{G} = \abs{Z(G)} + \sum_{\substack{\text{One $g$ from} \\ \text{each nontrivial} \\ \text{conj. class}}} [G: Z(g)]
\]
:::


:::{.proposition title="Application of the Class Equation"}
If $G$ is simple, $H < G$ proper, and $[G:H] = n$, then there exists an injective map $\phi: G \injects S_n$.
:::

:::{.proof}
This action induces $\phi$; it is nontrivial since $gH = H$ for all $g$ implies $H = G$; $\ker \phi \normal G$ and $G$ simple implies $\ker \phi = 1$.
:::

:::{.corollary title="Burnside's Lemma"}
For $G$ a finite group acting on $X$, 
\[
\# {X/G} = \frac{1}{\# G }\sum_{g\in G} \# {X^g}
\]

> Mnemonic: the number of orbits is equal to the average number of fixed points, i.e.

:::

:::{.proof title="of Burnside's Lemma"}
Strategy: form the set $A \da \ts{ (g,x) \in G\cross X \st g\actson x = x }$ and write/count it in two different ways.
First union over $G$:
\[
A = \Disjoint_{g\in G} \ts{ (g, x) \st gx = x } \cong \Disjoint_{g\in G} \ts{g}\cross X^g
.\]

Then union over $X$:
\[
A = \Disjoint_{x\in X} \ts{ (g, x) \st gx= x } \cong \Disjoint_{x\in X} G_x \cross \ts{ g } 
.\]
Taking cardinalities, and using the fact that $\ts{p} \cross A \cong  A$ as sets for any set $A$,
\[
\Disjoint_{g\in G} X^g
\cong
\Disjoint_{x\in X} G_x
\implies 
\sum_{g\in G}\# X^g
=
\sum_{x\in X} \# G_x
.\]
Apply orbit-stabilizer:
\[
\# G_x = {\# G \over \# Gx} \implies
\sum_{g\in G} X^g
&= \sum_{x\in X} \# G_x \\
&= \sum_{x\in X} {\# G \over  \# Gx} \\
&= \# G\sum_{x\in X} {1 \over  \# Gx}
,\]
so it suffices to show $\sum_{x\in X}{1\over \# Gx} = \# X/G$.
Proceed by grouping terms in this sum according to which orbit they're in:
\[
\sum_{x\in X} {1\over \# Gx} 
&=
\sum_{Gx \in X/G} \sum_{y\in Gx} {1\over \# Gx} \\
&=
\sum_{Gx \in X/G} {1\over \# Gx} \sum_{y\in Gx} 1 \\
&=
\sum_{Gx \in X/G} {1\over \# Gx} \# G_x \\
&=
\sum_{Gx \in X/G} 1 \\
&= \# X/G
.\]

:::


### Conjugation on Subgroups

:::{.example title="?"}
Let $G$ act on $X \da\ts{H \st H\leq G}$ (its set of *subgroups*) by conjugation.

- The orbit $\OO(H) = \theset{gHg\inv \st g\in G}$ is the **set of conjugate subgroups** of $H$.
  - This action is transitive iff all subgroups are conjugate.
- The fixed points $\Fix$ form the set of **normal subgroups** of $G$.

- The stabilizer $\Stab(H) = N_G(H)$ is the **normalizer** of $H$ in $G$.

- The kernel is the intersection of all normalizers.

:::

:::{.corollary}
Given $H \leq G$, the number of conjugate subgroups is $[G: N_G(H)]$, i.e.
\[
\abs{\ts{ gHg ^{-1} \st g \in G } } = [G: N_G(H)]
.\]

:::

### Left Translation on Cosets

:::{.example title="?"}
For a fixed proper subgroup $H< G$, let $G$ act on its cosets $X \da G/H \da \theset{gH\suchthat g\in G}$ by left translation.

- The orbit $\OO(xH) = G/H$, the entire set of cosets.

  - Note that this is a *transitive* action.

- The stabilizer $\Stab(xH) = xHx\inv$, a **conjugate subgroup** of $H$

- The fixed points form $\Fix = \emptyset$.

- The kernel of this action is $\Intersect_{g\in G} gHg\inv$, the intersection of all conjugates of $H$.

:::

:::{.proposition title="Application of translation action on cosets"}
If $G$ is a finite group and $p\da [G:H]$ is the smallest prime dividing $\# G$, then $H\normal G$.
:::

:::{.proof title="?"}
\envlist

- Let $\phi: G\actson X\da \ts{xH}$, noting that $\# X = p$ and $\Sym(X) \cong S_p$.
- Then $K\da \ker \phi \subseteq H$.
- Since $G$ is finite and $K\leq G$, we have $[G:K] = \# (G/K) = \# G/ \# K$ so $\# (G/K)$ divides $\# G$.
- Since $G/K \cong K'$ is isomorphic to a subgroup of $S_p$, $\# (G/K)$ divides $\# S_p = p!$
- So $\# (G/K)$ divides $\gcd( \# G, p!)$, which is $p$ since it was the minimal prime dividing $\# G$.
- $p$ is prime, so if $\# G/K\neq 1$ we have $\# G/K = p$.
- Since $K \subset H$ and $[G:H] = p = [G: K]$, we have $K = H$.
- But $K = \ker \phi \normal G$, so $H\normal G$.

:::

:::{.exercise title="?"}
Prove Poincaré's theorem: if $H\leq G$ is finite index, then there exists an $N\normal H$ where $[N: H] < n!$.
:::


